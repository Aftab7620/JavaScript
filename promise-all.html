<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        let promisecall=function(data,message) 
        {
          return  function(resolve,reject){
            setTimeout(()=>{
                console.log(`the ${message} is done`);
                resolve(data);

            },data*100);
            
           }
        };
let p1=new Promise(promisecall(10,"first"));
let p2=new Promise(promisecall(20,"second"));
let p3=new Promise(promisecall(30,"third"));
let p4=new Promise(function(resolve,reject){
    reject("failed");
});
        

       
        var total=0;
      
        Promise.all([p1,p2,p3,p4]).then((result)=>{
            for(var i in result) 
        { 
            total +=result[i];
        }

            console.log(`Result is ${result}`);
            console.log(`total is ${total}`);

        }).catch((err)=>{
            console.log(`error ${err}`);
        });


    </script>
</head>
<body>
    
</body>
</html>